Step 1. Download docker image.
$ sudo docker pull shwestrick/ppopp22-artifact



Step 2. Run docker. We first make a local directory 'ARTIFACT-RESULTS' which
will be mounted in the docker container (this lets us copy files out of the
container). Then we start the container.
Note: The '--privileged' flag is necessary for NUMA control in the experiments.

$ mkdir ARTIFACT-RESULTS
$ sudo docker run -v $(pwd -P)/ARTIFACT-RESULTS:/ARTIFACT-RESULTS --privileged --rm -it shwestrick/ppopp22-artifact /bin/bash



Step 3. Small experiments (~5 minutes). Requires at least 6GB RAM and 8 cores.
Run the following commands inside the container (the prompt inside the container
is a '#').

# ./run-small
# ./report-small | tee /ARTIFACT-RESULTS/small-output
# cp -r small/figures /ARTIFACT-RESULTS/small-figures



Step 4. Check results. The output of step 3 consists of tables (printed to
stdout, and copied to ARTIFACT-RESULTS/small-output) and a few speedup
plots (copied to ARTIFACT-RESULTS/small-figures). The tables are comparable
to figures 9 and 10 in the paper; see the comments printed with the tables
for more info. The speedup plots should show that the 'delay' version scales
better than the 'array' and 'rad' versions.


Step 5. Generate inputs for full experiments (~2 minutes).

# ./generate-inputs



Step 6. Full experiments from paper (XXX hours). Requires at least 100GB RAM
and a large number of cores. (At least 32 cores is okay; 64 or more is
preferable).

The `run` script takes an argument `--procs <PROCLIST>` which is a
comma-separated (no spaces) list of processor counts to consider. We recommend
choosing a maximum number of processors corresponding to physical cores, to
avoid complications with hyperthreading. We also recommend choosing a range
of intermediate processor counts, to see informative speedup curves.

For example, in the paper we used `--procs 1,10,20,30,40,50,60,72` on a
machine with 72 physical cores. With 32 cores, we would recommend
`--procs 1,10,20,32`. With 64 cores, we recommend `--procs 1,10,20,30,40,50,64`.

# ./run --procs <PROCLIST>
# ./report | tee /ARTIFACT-RESULTS/full-output
# cp -r figures /ARTIFACT-RESULTS/full-figures
